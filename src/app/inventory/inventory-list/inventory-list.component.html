<div class="list-container">
  <h3>Product List</h3>
  <p class="debug">{{ debugOutput }}</p>

  <div class="product-table">
    <div class="table-header">
      <div class="col-name">Product Name</div>
      <div class="col-price">Price</div>
    </div>
    <!-- Prefer Observable via async pipe; fall back to synchronous productList input -->
    <ng-container *ngIf="(products$ | async) as asyncProducts; else syncList">
      <div *ngFor="let product of asyncProducts; trackBy: trackById" class="table-row">
        <div class="col-name">{{ product.name }}</div>
        <div class="col-price">${{ product.price }}</div>
      </div>

      <div *ngIf="asyncProducts.length === 0" class="empty-state">
        No products added yet.
      </div>
    </ng-container>

    <ng-template #syncList>
      <div *ngFor="let product of productList; trackBy: trackById" class="table-row">
        <div class="col-name">{{ product.name }}</div>
        <div class="col-price">${{ product.price }}</div>
      </div>

      <div *ngIf="productList.length === 0" class="empty-state">
        No products added yet.
      </div>
    </ng-template>
  </div>
</div>
